<!-- Afficher just les enregistrements a 'modifier' et just qlq details -->

<div th:fragment="content (etatdavancement, statut)">
    <div th:if="${#lists.isEmpty(etatdavancement)}" class="alert alert-info mt-3">
        <p th:text="'Rien à ' + (${statut} == 'En attente' ? 'Remplir' : 'Modifier')"></p>
    </div>
        <table th:if="${!#lists.isEmpty(etatdavancement)}">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Heure</th>
                    <th>Filière</th>
                    <th>Matière</th>
                    <th>Statut</th>
                    <th>Action</th>
            </thead>
            <tbody>
                <tr th:each="etat : ${etatdavancement}">
                    <input type="hidden" th:value="${etat.id}" />
                    <td th:text="${etat.emploiDuTemps.date}"></td>
                    <td th:text="${#strings.concat(etat.emploiDuTemps.heure_debut, ' - ', etat.emploiDuTemps.heure_fin)}"></td>
                    <td th:text="${etat.emploiDuTemps.matiere.filiere.nom_filiere}"></td>
                    <td th:text="${etat.emploiDuTemps.matiere.nom_matiere}"></td>
                    <td th:text="${etat.statut}"></td>
                    <td><button class="btn btn-outline-info" th:onclick="'loadContent(\'/req/update/\' + ' + ${etat.id} + ')'"
                                th:text="${etat.statut == 'En attente' ? 'Remplir' : 'Modifier'}">
                            Action
                        </button></td>
                    
                </tr>
            </tbody>
        </table>


    </div>

